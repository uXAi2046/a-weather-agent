# 安全推送检查清单

在将项目推送到公共GitHub仓库之前，请确保完成以下安全检查：

## ✅ API密钥安全检查

### 1. 环境变量文件
- [ ] `.env` 文件已添加到 `.gitignore` 中
- [ ] `.env.example` 文件不包含真实API密钥
- [ ] `.env.example` 文件包含所有必要的配置项示例

### 2. 代码中的硬编码密钥
- [ ] 搜索并移除代码中所有硬编码的API密钥
- [ ] 检查 `config/settings.py` 中的默认值不包含真实密钥
- [ ] 确认所有API密钥都通过环境变量获取

### 3. 文档和日志
- [ ] 删除包含真实API密钥的文档文件
- [ ] 检查日志文件不包含敏感信息
- [ ] 确认测试文件不包含真实密钥

## ✅ Git历史检查

### 4. 提交历史
- [ ] 检查Git历史中是否有包含API密钥的提交
- [ ] 如有必要，使用 `git filter-branch` 或 `BFG Repo-Cleaner` 清理历史

### 5. 分支检查
- [ ] 检查所有分支是否都已清理敏感信息
- [ ] 确认要推送的分支是干净的

## ✅ 配置文件检查

### 6. .gitignore 文件
确认以下文件/目录已被忽略：
- [ ] `.env`
- [ ] `logs/`
- [ ] `__pycache__/`
- [ ] `.idea/`
- [ ] `.vscode/`

### 7. 依赖文件
- [ ] `requirements.txt` 不包含敏感信息
- [ ] 确认所有依赖都是公开可用的

## ✅ 文档完整性

### 8. README文档
- [ ] 包含API密钥获取和配置说明
- [ ] 包含安全提醒
- [ ] 安装和使用说明完整

### 9. 示例文件
- [ ] `.env.example` 包含所有必要配置项
- [ ] 示例配置值是安全的占位符

## ✅ 最终检查

### 10. 推送前验证
- [ ] 在新环境中克隆项目并测试配置流程
- [ ] 确认项目可以在没有真实API密钥的情况下启动（使用示例配置）
- [ ] 验证所有敏感信息都已移除

## 🚀 推送命令

完成所有检查后，使用以下命令推送到远程仓库：

```bash
# 添加远程仓库（如果尚未添加）
git remote add origin https://github.com/uXAi2046/a-weather-agent.git

# 推送到master分支
git push -u origin master
```

## ⚠️ 紧急情况处理

如果意外推送了包含API密钥的代码：

1. **立即撤销密钥**：在相应平台撤销泄露的API密钥
2. **生成新密钥**：创建新的API密钥
3. **清理历史**：使用工具清理Git历史
4. **强制推送**：使用 `git push --force` 覆盖远程历史

---

**检查完成日期**: ___________  
**检查人员**: ___________  
**备注**: ___________